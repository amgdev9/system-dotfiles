# Base system
FROM debian:latest
ENV DEBIAN_FRONTEND=noninteractive
RUN apt-get update \
    && useradd -m -s /bin/bash amgdev \
    && mkdir -p /home/amgdev/.config

# Personal dev setup for all projects
RUN apt-get install -y git curl gcc wget ripgrep \
    && wget https://github.com/neovim/neovim/releases/download/v0.11.4/nvim-linux-x86_64.tar.gz \
    && tar xzvf nvim-linux-x86_64.tar.gz \
    && cp -rf ./nvim-linux-x86_64/* /usr/local/ \
    && rm nvim-linux-x86_64.tar.gz \ 
    && rm -rf ./nvim-linux-x86_64 \
    && git clone https://github.com/amgdev9/devenv /home/amgdev/devenv \
    && cp -r /home/amgdev/devenv/nvim-code /home/amgdev/.config \
    && cp -r /home/amgdev/devenv/nvim-debugger /home/amgdev/.config \
    && cp -f /home/amgdev/devenv/.bashrc /home/amgdev/.bashrc \
    && cp -f /home/amgdev/devenv/.inputrc /home/amgdev/.inputrc \
    && chown -R amgdev:amgdev /home/amgdev

